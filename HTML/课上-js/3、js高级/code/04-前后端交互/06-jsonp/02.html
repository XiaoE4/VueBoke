<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="mybtn">jsonp</button>
    <script>
        /*
            jsonp原理：动态创建script标签，src属性指向没有跨域限制
            指向一个接口，接口返回的格式 一定是  ****（）函数表达式。
        */
       

        function callbackFunction(obj){     // 函数名和src内调用的方法名一致
            console.log(obj);
        }
        

        mybtn.onclick = function(){
            // var oscript=document.createElement("script")
            // oscript.src="01.txt"    // 未来地址
            // document.body.appendChild(oscript)

            var oscript=document.createElement("script")
            oscript.src=`https://www.runoob.com/try/ajax/jsonp.php?jsoncallback=callbackFunction`    // 未来地址
            document.body.appendChild(oscript)

            oscript.onload=function(){
                // 删除当前节点，不删除运行一次就会积累一次且不会消失。
                oscript.remove()
            }
        }

    </script>

    <script>
        /*
        注意：
            1、后端接口形式必须是   **（）形式，需要后端配合。
            2、jsonp 缺点
            （1）onload删除 script标签
            （2）只能get请求，不能post、put、delete
        */
    </script>
</body>
</html>